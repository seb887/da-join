<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <link
      rel="stylesheet"
      href="../style.css"
    />
    <link
      rel="stylesheet"
      href="../styles/add-task.css"
    />
    <link
      rel="icon"
      type="image/png"
      href="../assets/img/logo-white.png"
    />
    <title>Add Task - Join</title>
  </head>
  <body onload="renderAddTask()">
    <header class="header">
      <img src="../assets/img/logo-black.png">
      <div
        id="dropdown-profile"
        class="dropdown-profile"
      >
        <div
          onclick="location.href='help.html'" 
          class="dropdown-profile-buttons help-button" 
          >Help
        </div>
        <a
          class="dropdown-profile-buttons"
          href="legal-notice.html"
          >Legal Notice</a
        >
        <a
          class="dropdown-profile-buttons"
          href="privacy-policy.html"
          >Privacy Policy</a
        >
        <div
          onclick="guestLogInOrLogOut()"
          class="dropdown-profile-buttons"
        >
          Log out
        </div>
      </div>
      <p class="project-tool-info">Kanban Project Management Tool</p>
      <div class="header-user-box">
        <div class="help-logo">
          <a href="./help.html"
            ><img
              src="../assets/icons/help.png"
              alt=""
          /></a>
        </div>

        <div
          onclick="showProfileDropDownMenu()"
          id="user-initials"
          class="user-initials"
        ></div>
      </div>
    </header>

    <aside class="sidebar">
      <a href="../index.html"
        ><img
          class="sidebar-logo"
          src="../assets/img/logo-white.png"
          alt="logo white img"
        />
      </a>

      <nav class="navbar">
        <div class="nav-links-container">
          <a
            href="../html/summary.html"
            class="nav-links"
          >
            <img
              src="../assets/icons/summary.png"
              alt="summary icon"
            />Summary</a
          >

          <a style="color: white;"
            href="../html/add-task.html"
            class="nav-links"
          >
            <img style="filter: brightness(150%);"
              src="../assets/icons/add-task.png"
              alt="add task icon"
            />
            Add Task</a
          >

          <a
            href="../html/board.html"
            class="nav-links"
          >
            <img
              src="../assets/icons/board.png"
              alt="board icon"
            />
            Board</a
          >

          <a
            href="../html/contacts.html"
            class="nav-links"
          >
            <img
              src="../assets/icons/contacts.png"
              alt="contacts icon"
            />Contacts</a
          >
        </div>
        <div class="../privacy-legal-notice-links-container">
          <a
            href="../html/privacy-policy.html"
            class="nav-links"
            id="privacy-policy"
          >
            Privacy Policy</a
          >
          <a
            href="../html/legal-notice.html"
            class="nav-links"
            id="legal-notice"
          >
            Legal Notice</a
          >
        </div>
      </nav>
    </aside>

    <main class="content">
      <header class="add-task-header">
        <h1>Add Task</h1>
      </header>

      <section class="add-task-content-section">
        <div class="add-task-form">
          <div class="left-container">
            <div class="form-container title-container">
              <div
                for="title"
                class="add-task-labels"
              >
                Title<span class="required-marker">*</span>
              </div>
              <input
                type="text"
                class="add-task-input-title"
                id="input-title"
                name="title"
                placeholder="Enter a title"
              />
            </div>
            <div class="form-container description-container">
              <div
                for="description"
                class="add-task-labels"
              >
                Description
              </div>
              <textarea
                type="text"
                class="add-task-input-description"
                id="input-description"
                name="description"
                rows="4"
                placeholder="Enter a description"
              ></textarea>
            </div>
            <div class="form-container assigned-to-container">
              <div
                for="assigned to"
                class="add-task-labels"
              >
                Assigned to
              </div>
              <!-- <select
                type="text"
                id="input-assigned-to"
                class="add-task-select"
                name="assigned to"
              >
                <option
                  value="No selection"
                  disabled
                  selected
                  hidden
                >
                  Select contacts to assign
                </option> -->
                <!-- <option value="Jim Panse">Jim Panse</option>
                <option value="Anne Theke">Anne Theke</option>
                <option value="Kara Mell">Kara Mell</option> -->
                <div id="add-task-contact-container" class="add-task-select" >
                    <div  onclick="dropDownContacts()"><input oninput="filterContacts(event)" autocomplete="off" placeholder="Select contacts to assign" type="text" id="searchContact" ><img id="arrowAssignTo" src="../assets/icons/arrow-down.png" alt="arrow-down"></div>
                    <div class="add-task-select" id="input-assigned-to"></div>
                </div>
              </select>
            </div>
            <div id="assigned-contacts-list">
              
            </div>
          </div>
          <div class="seperator"></div>
          <div class="right-container">
            <div class="form-container date-container">
              <div
                for="date"
                class="add-task-labels"
              >
                Due date<span class="required-marker">*</span>
              </div>
              <input
                type="date"
                class="add-task-input-date"
                id="input-date"
                name="date"
              />
            </div>

            <div class="form-container date-container">
              <div
                for="prio"
                class="add-task-labels"
              >
                Prio
              </div>
              <div class="prio-buttons-container">
                <button
                  class="prio-buttons"
                  id="button-urgent"
                  onclick="setPrio('urgent')"
                >
                  Urgent
                  <img
                    src="../assets/icons/prio-urgent.png"
                    alt="prio urgent icon"
                    id="button-urgent-img"
                  />
                </button>

                <button
                  class="prio-buttons"
                  id="button-medium"
                  onclick="setPrio('medium')"
                >
                  Medium
                  <img
                    src="../assets/icons/prio-medium-white.png"
                    alt="prio medium icon"
                    id="button-medium-img"
                  />
                </button>

                <button
                  class="prio-buttons"
                  id="button-low"
                  onclick="setPrio('low')"
                >
                  Low
                  <img
                    src="../assets/icons/prio-low.png"
                    alt="prio low icon"
                    id="button-low-img"
                  />
                </button>
              </div>
            </div>

            <div class="form-container category-container">
              <div
                for="category"
                class="add-task-labels"
              >
                Category<span class="required-marker">*</span>
              </div>
              <select
                type="text"
                class="add-task-select"
                id="select-category"
                name="category"
              >
                <option
                  value="Select task category"
                  disabled
                  selected
                  hidden
                >
                  Select task category
                </option>
                <option value="User Story">User Story</option>
                <option value="Technical Task">Technical Task</option>
              </select>
            </div>

            <div class="form-container subtasks-container">
              <div
                for="subtasks"
                class="add-task-labels"
              >
                Subtasks
              </div>
              <div class="add-task-input">
                <input
                  type="subtasks"
                  name="subtasks"
                  placeholder="Add new subtask"
                  class="add-task-input-subtasks"
                  id="input-subtask"
                  oninput="controlSubtaskIcons()"
                />
                <img
                  src="../assets/icons/add-subtask.png"
                  alt="add subtask icon"
                  id="add-subtask-img"
                />
                <img
                  src="../assets/icons/submit-subtask.png"
                  alt="submit subtask icon"
                  id="submit-subtask-img"
                  onclick="submitInputSubtask()"
                />
                <img
                  src="../assets/icons/cancel-subtask.png"
                  alt="plus icon"
                  id="cancel-subtask-img"
                  onclick="cancelInputSubtask()"
                />
              </div>
              <ul
                class="subtasks-list"
                id="subtasks-list"
              ></ul>
            </div>
          </div>
        </div>
        <div class="add-task-footer">
          <div>
            <span class="required-marker">*</span>This field is required
          </div>
          <div class="add-task-buttons-container">
            <button
              class="add-task-cancel-button"
              onclick="clearInputs()"
            >
              Cancel
            </button>
            <button
              class="add-task-submit-button"
              onclick="createNewTask()"
            >
              Create Task
            </button>
          </div>
        </div>

        <div
          id="info-toast"
          class="hidden"
        >
          <p id="infoText"></p>
          <img
            src="../assets/icons/board.png"
            width="30px"
            height="30px"
            alt="task icon"
          />
        </div>
      </section>
    </main>
    <footer>
      <div class="nav-links-responsive"><a
        href="../html/summary.html"
        class="nav-links"
      >
        <img
          src="../assets/icons/summary.png"
          alt="summary icon"
        />Summary</a
      ></div>
      <div class="nav-links-add-task"><a style="color: white;"
        href="../html/add-task.html"
        class="nav-links"
      >
        <img style="filter: brightness(150%);"
          src="../assets/icons/add-task.png"
          alt="add task icon"
        />
        Add Task</a
      ></div>
      <div class="nav-links-responsive"><a
        href="../html/board.html"
        class="nav-links"
      >
        <img
          src="../assets/icons/board.png"
          alt="board icon"
        />
        Board</a
      ></div>
      <div class="nav-links-responsive"><a
        href="../html/contacts.html"
        class="nav-links"
      >
        <img
          src="../assets/icons/contacts.png"
          alt="contacts icon"
        />Contacts</a
      ></div>
    </footer>
    <script src="../js/add-task.js"></script>
    <script src="../js/contact.js"></script>
    <script src="../js/board.js" ></script>
    <script src="../js/create-HTML.js"></script>
    <script
      src="../js/script.js"
      defer
    ></script>
  </body>
</html>
